<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<section class="busker-content">
	<div class="busker-content__item">
		<!-- 		<iframe width="100%" height="100%" -->
		<!-- 			src="https://www.youtube.com/embed/saH2Odc3ba8" frameborder="0" -->
		<!-- 			allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" -->
		<!-- 			allowfullscreen></iframe> -->
		<iframe width="560" height="315" src="https://www.youtube.com/embed/y_oPqEzX_X4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
	</div>
	<div class="busker-content__item">
		<div class="busker-board">
			<header class="busker-board__header">
				<div class="busker-board__header-column"></div>
				<div class="busker-board__header-column">버스커 게시판</div>
				<div class="busker-board__header-column">
					<i class="fas fa-ellipsis-h"></i>
				</div>
			</header>
			<article class="busker-board__row">
				<div class="board-row__notice">
					<i class="fas fa-bullhorn"></i> <span class="board-row__content">
						오늘 공연은 쉽니다. <span class="board-row__cnt">[20]</span>
					</span> <span class="board-row__date"> 05-17 </span>
				</div>
				<div class="board-row__notice">
					<i class="fas fa-bullhorn"></i> <span class="board-row__content">
						오늘 공연은 쉽니다. <span class="board-row__cnt">[20]</span>
					</span> <span class="board-row__date"> 05-17 </span>
				</div>
				<div class="board-row__notice">
					<i class="fas fa-bullhorn"></i> <span class="board-row__content">
						말씀드릴 사항이 있습니다. </span> <span class="board-row__date"> 03-17 </span>
				</div>
				<div class="board-row__posts">
					<span class="board-row__num">2</span> <span
						class="board-row__content"> 저번공연 너무 좋지 않았어요?? ditate! Lorem
						ipsum dolor sit amet consectetur, adipisicing elit. Aliquid
						ratione ab sint quaerat ea eaque dolores distinctio facere sequi,
						ipsam recusandae assumenda, vitae id hic a tempore expedita ipsa
						non? </span> <span class="board-row__date"> 05-12 </span>
				</div>
				<div class="board-row__posts">
					<span class="board-row__num">3</span> <span
						class="board-row__content"> 저번공연 너무 좋지 않았어요?? ditate! Lorem
						ipsum dolor sit amet consectetur, adipisicing elit. Aliquid
						ratione ab sint quaerat ea eaque dolores distinctio facere sequi,
						ipsam recusandae assumenda, vitae id hic a tempore expedita ipsa
						non? </span> <span class="board-row__date"> 05-12 </span>
				</div>
				<div class="board-row__posts">
					<span class="board-row__num">15</span> <span
						class="board-row__content"> 얼른 다시 뵙고싶어요!! </span> <span
						class="board-row__date"> 05-12 </span>
				</div>
				<div class="board-row__posts">
					<span class="board-row__num">15</span> <span
						class="board-row__content"> 얼른 다시 뵙고싶어요!! <span
						class="board-row__cnt">[122]</span>
					</span> <span class="board-row__date"> 05-12 </span>
				</div>
				<div class="board-row__posts">
					<span class="board-row__num">15</span> <span
						class="board-row__content"> 얼른 다시 뵙고싶어요!! </span> <span
						class="board-row__date"> 05-12 </span>
				</div>
				<div class="board-row__posts">
					<span class="board-row__num">15</span> <span
						class="board-row__content"> 얼른 다시 뵙고싶어요!! </span> <span
						class="board-row__date"> 05-12 </span>
				</div>
				<div class="board-row__posts">
					<span class="board-row__num">15</span> <span
						class="board-row__content"> 얼른 다시 뵙고싶어요!! </span> <span
						class="board-row__date"> 05-12 </span>
				</div>
				<div class="board-row__posts">
					<span class="board-row__num">15</span> <span
						class="board-row__content"> 얼른 다시 뵙고싶어요!! </span> <span
						class="board-row__date"> 05-12 </span>
				</div>
			</article>
		</div>
	</div>
	<div class="busker-content__item">
		<div class="busker-content__support-wrapper">
			<div class="busker-content__support">
				<header class="busker-content__support-header">
					<div class="support-header__title">후원하기</div>
					<div class="support-header__bar">
						<div class="support-header__origin-bar"></div>
						<div class="support-header__state-bar"></div>
					</div>
				</header>
				<div class="busker-content__support-row">
					<div class="busker-content__support-user">jin</div>
					<div class="busker-content__support-title">응원합니다! 이정환님</div>
					<div class="busker-content__support-date">04-13</div>
				</div>
				<div class="busker-content__support-row">
					<div class="busker-content__support-user">kyu</div>
					<div class="busker-content__support-title">다음에 또 보러갈게요!</div>
					<div class="busker-content__support-date">04-13</div>
				</div>
				<div class="busker-content__support-row">
					<div class="busker-content__support-user">kyu</div>
					<div class="busker-content__support-title">다음에 또 보러갈게요!</div>
					<div class="busker-content__support-date">04-13</div>
				</div>
				<div class="busker-content__support-row">
					<div class="busker-content__support-user">kyu</div>
					<div class="busker-content__support-title">다음에 또 보러갈게요!</div>
					<div class="busker-content__support-date">04-13</div>
				</div>
			</div>
		</div>
	</div>
	<div class="busker-audio-wrapper">
	   <div class="audio-menu">
	    <!-- 뮤직플레이어에 제목과 가수가 표시 되지 않는다는 단점!!-->
	    <!-- 어떻게 보완할 것인지... 퍼블리싱!-->
	    <header class="audio-menu__header">
	      <span class="audio-menu__header-title"> 내 재생목록 </span>
	      <span class="audio-menu__header-cnt"> ${audioList.size()} 곡 </span>
	    </header>
	    <ul class="audio-menu__content">
	        
	    </ul>
	  </div>
      <div class="music">
        <div class="music-title">${audioList[0].title}</div>
        <div class="music-writer">${audioList[0].writer}</div>
      </div>
      <div class="busker-audio">
<!--         <audio id="myAudio" loop="loop" autoplay="autoplay"> -->
        <audio id="myAudio" loop="loop">
<!--           <source -->
<%--             src="<c:url value='/file/download.do?path=${audioList[0].path}'/>" --%>
<!--             type="audio/mpeg" -->
<!--           /> -->
          <source
            src="${audioList[0].path}"
            type="audio/mpeg"
          />
        </audio>
        <div class="busker-audio__column">
          <div class="now playing paused" id="music">
            <span class="bar n1"></span>
            <span class="bar n2"></span>
            <span class="bar n3"></span>
            <span class="bar n4"></span>
            <span class="bar n5"></span>
          </div>
        </div>
        <div class="busker-audio__column">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
          >
            <path d="M4 2v20h-2v-20h2zm18 0l-16 10 16 10v-20z" />
          </svg>
          <i class="fas fa-play" id="play"></i>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
          >
            <path d="M20 22v-20h2v20h-2zm-18 0l16-10-16-10v20z" />
          </svg>
        </div>
        <div class="busker-audio__column">
          <div>
            <canvas id="myCanvas" height="6px" width="150px"></canvas>
          </div>
          <div id="cTime">
            <span id="currentTime"> 00:00 </span> /
            <span id="duration"> 00:00 </span>
          </div>
        </div>
        <div class="busker-audio__column">
          <i class="fas fa-volume-up" id="mute"></i>
          <input
            id="volumeAudio"
            type="range"
            min="0"
            max="1"
            step="0.005"
            value="0.5"
          />
        </div>
        <div class="busker-audio__column">
          <i class="fas fa-list-ul fa-lg" id="menu-btn"></i>
        </div>
      </div>
      <svg
        class="busker-audio__btn"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
      >
        <path
          d="M24 20.682c-.002 1.555-1.17 2.318-2.24 2.318-.903 0-1.76-.544-1.76-1.616 0-1.104 1.201-2.118 2.515-2.118.161 0 .323.015.485.047v-4.312l-6 1.229v5.45c-.002 1.556-1.18 2.32-2.258 2.32-.906 0-1.742-.542-1.742-1.61 0-1.106 1.201-2.125 2.518-2.125.16 0 .322.015.484.047v-6.52l7.998-1.792v8.682zm-13-6.682c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3zm0-1c1.103 0 2-.897 2-2s-.897-2-2-2-2 .897-2 2 .897 2 2 2zm-1.818 2.646c-1.293-.508-2.319-1.534-2.827-2.827l-1.025.128c.6 1.746 1.979 3.125 3.725 3.724l.127-1.025zm-4.869-2.572l-1 .125c.757 2.648 2.84 4.731 5.488 5.488l.125-1c-2.194-.683-3.93-2.418-4.613-4.613zm8.505-6.72c1.293.508 2.319 1.534 2.827 2.828l1.025-.128c-.6-1.746-1.979-3.125-3.725-3.725l-.127 1.025zm-1.771 15.644c.082-.734.378-1.441.878-2.045-.304.03-.613.047-.925.047-4.963 0-9-4.038-9-9s4.037-9 9-9c4.912 0 8.91 3.957 8.992 8.849l1.978-.443c-.311-5.798-5.096-10.406-10.97-10.406-6.075 0-11 4.925-11 11s4.925 11 11 11l.047-.002zm2.151-18.685l-.125 1c2.195.682 3.931 2.418 4.613 4.613l1-.125c-.755-2.648-2.838-4.732-5.488-5.488z"
        />
      </svg>
    </div>
    
</section>
<script>
	const audioItemList = [];
	<c:forEach var="item" items="${audioList}">
		audioItemList.push({
			title: "${item.title}",
			writer : "${item.writer}",
			path : "${item.path}",
			duration : "${item.time}"
		});
	</c:forEach>
	console.log(audioItemList);
</script>
<script src="<c:url value='/resources/js/audio.js'/>"></script>